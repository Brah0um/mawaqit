{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} Accueil{% endblock %}

{% block body %}
    {% include 'partial/flash_msg.html.twig' %}

    <div class="row">
        <div class="col-md-10"><h3>{{'users'|trans}}</h3></div>
    </div>
    <br>

    <table class="table table-inverse">
        <thead>
            <tr class="warning">
                <th>ID</th>
                <th>{{'name'|trans}}</th>
                <th>{{'email'|trans}}</th>
                <th class="text-center">{{'active'|trans}}</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
                <tr>
                    <th scope="row">{{user.id}}</th>
                    <td>{{user.username}}</td>
                    <td>{{user.email}}</td>
                    <td class="text-center">
                        <span class="fa fa-{{user.enabled ? 'check' : 'close'}}"></span>
                    </td>
                    <td>
                        {% if user.id != app.user.id %}
                            {% include 'partial/modal_delete.html.twig' with {entity: user, path: 'user_delete'} %}
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>    
{% endblock %}